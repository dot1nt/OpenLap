import{t as B,a as N,c as Ha}from"../chunks/ieD6nO8R.js";import{i as j}from"../chunks/D7_4KN2p.js";import{$ as Ua,b as Ga,A as Ee,h as q,a0 as Wa,x as za,k as y,N as ye,y as Ya,z as ma,B as Re,c as ue,ae as Pa,C as ka,a as Ta,D as Ka,aq as Ie,ai as Aa,a2 as pa,ar as Xa,F as M,as as ba,a9 as Qa,at as Za,au as ja,ah as et,av as at,d as tt,aw as nt,ax as rt,ab as st,ay as it,az as ot,aA as lt,aB as ct,i as La,al as Ma,ak as Ca,aC as dt,p as ee,J as $,t as F,q as ae,s as i,v as s,aD as vt,aE as ut,w as u,aF as _a,aG as le,f as Ye,aH as ft}from"../chunks/C9dvp8V1.js";import{a as mt,l as Pe,e as ne,s as V,d as pt,b as bt}from"../chunks/Bh_pjQ5J.js";import{w as re,a as _t,g as Oe,o as ht}from"../chunks/BVv_WIuN.js";import{s as pe,a as L,i as fe,b as ie,p as ha}from"../chunks/RgYpFcq_.js";function De(e,a){return a}function gt(e,a,t,n){for(var r=[],o=a.length,l=0;l<o;l++)ja(a[l].e,r,!0);var c=o>0&&r.length===0&&t!==null;if(c){var m=t.parentNode;et(m),m.append(t),n.clear(),Q(e,a[0].prev,a[o-1].next)}at(r,()=>{for(var p=0;p<o;p++){var d=a[p];c||(n.delete(d.k),Q(e,d.prev,d.next)),tt(d.e,!c)}})}function Je(e,a,t,n,r,o=null){var l=e,c={flags:a,items:new Map,first:null};{var m=e;l=q?Ee(Wa(m)):m.appendChild(Ua())}q&&za();var p=null,d=!1,g=ye(()=>{var v=t();return Qa(v)?v:v==null?[]:Aa(v)});Ga(()=>{var v=y(g),_=v.length;if(d&&_===0)return;d=_===0;let b=!1;if(q){var w=l.data===Ya;w!==(_===0)&&(l=ma(),Ee(l),Re(!1),b=!0)}if(q){for(var S=null,f,h=0;h<_;h++){if(ue.nodeType===8&&ue.data===Pa){l=ue,b=!0,Re(!1);break}var T=v[h],x=n(T,h);f=Na(ue,c,S,null,T,x,h,r,a,t),c.items.set(x,f),S=f}_>0&&Ee(ma())}q||yt(v,c,l,r,a,n,t),o!==null&&(_===0?p?ka(p):p=Ta(()=>o(l)):p!==null&&Ka(p,()=>{p=null})),b&&Re(!0),y(g)}),q&&(l=ue)}function yt(e,a,t,n,r,o,l){var c=e.length,m=a.items,p=a.first,d=p,g,v=null,_=[],b=[],w,S,f,h;for(h=0;h<c;h+=1){if(w=e[h],S=o(w,h),f=m.get(S),f===void 0){var T=d?d.e.nodes_start:t;v=Na(T,a,v,v===null?a.first:v.next,w,S,h,n,r,l),m.set(S,v),_=[],b=[],d=v.next;continue}if($t(f,w,h),(f.e.f&Ie)!==0&&ka(f.e),f!==d){if(g!==void 0&&g.has(f)){if(_.length<b.length){var x=b[0],R;v=x.prev;var U=_[0],G=_[_.length-1];for(R=0;R<_.length;R+=1)ga(_[R],x,t);for(R=0;R<b.length;R+=1)g.delete(b[R]);Q(a,U.prev,G.next),Q(a,v,U),Q(a,G,x),d=x,v=G,h-=1,_=[],b=[]}else g.delete(f),ga(f,d,t),Q(a,f.prev,f.next),Q(a,f,v===null?a.first:v.next),Q(a,v,f),v=f;continue}for(_=[],b=[];d!==null&&d.k!==S;)(d.e.f&Ie)===0&&(g??(g=new Set)).add(d),b.push(d),d=d.next;if(d===null)continue;f=d}_.push(f),v=f,d=f.next}if(d!==null||g!==void 0){for(var P=g===void 0?[]:Aa(g);d!==null;)(d.e.f&Ie)===0&&P.push(d),d=d.next;var W=P.length;if(W>0){var K=c===0?t:null;gt(a,P,K,m)}}pa.first=a.first&&a.first.e,pa.last=v&&v.e}function $t(e,a,t,n){Xa(e.v,a),e.i=t}function Na(e,a,t,n,r,o,l,c,m,p){var d=(m&nt)!==0,g=(m&rt)===0,v=d?g?M(r):ba(r):r,_=(m&Za)===0?l:ba(l),b={i:_,v,k:o,a:null,e:null,prev:t,next:n};try{return b.e=Ta(()=>c(e,v,_,p),q),b.e.prev=t&&t.e,b.e.next=n&&n.e,t===null?a.first=b:(t.next=b,t.e.next=b.e),n!==null&&(n.prev=b,n.e.prev=b.e),b}finally{}}function ga(e,a,t){for(var n=e.next?e.next.e.nodes_start:t,r=a?a.e.nodes_start:t,o=e.e.nodes_start;o!==n;){var l=st(o);r.before(o),o=l}}function Q(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function Ba(e){var a,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(a=0;a<r;a++)e[a]&&(t=Ba(e[a]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function St(){for(var e,a,t=0,n="",r=arguments.length;t<r;t++)(e=arguments[t])&&(a=Ba(e))&&(n&&(n+=" "),n+=a);return n}function wt(e){return typeof e=="object"?St(e):e??""}function xt(e,a,t){var n=e==null?"":""+e;return a&&(n=n?n+" "+a:a),n===""?null:n}function ce(e,a,t,n,r,o){var l=e.__className;if(q||l!==t||l===void 0){var c=xt(t,n);(!q||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=t}return o}const kt=Symbol("is custom element"),Tt=Symbol("is html");function oe(e){if(q){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;ya(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;ya(e,"checked",null),e.checked=r}}};e.__on_r=t,it(t),mt()}}function ya(e,a,t,n){var r=At(e);q&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=t)&&(a==="loading"&&(e[ot]=t),e.removeAttribute(a))}function At(e){return e.__attributes??(e.__attributes={[kt]:e.nodeName.includes("-"),[Tt]:e.namespaceURI===lt})}function be(e,a,t=a){var n=ct();Pe(e,"input",r=>{var o=r?e.defaultValue:e.value;if(o=Ve(e)?qe(o):o,t(o),n&&o!==(o=a())){var l=e.selectionStart,c=e.selectionEnd;e.value=o??"",c!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(c,e.value.length))}}),(q&&e.defaultValue!==e.value||La(a)==null&&e.value)&&t(Ve(e)?qe(e.value):e.value),Ma(()=>{var r=a();Ve(e)&&r===qe(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function $a(e,a,t=a){Pe(e,"change",n=>{var r=n?e.defaultChecked:e.checked;t(r)}),(q&&e.defaultChecked!==e.checked||La(a)==null)&&t(e.checked),Ma(()=>{var n=a();e.checked=!!n})}function Ve(e){var a=e.type;return a==="number"||a==="range"}function qe(e){return e===""?null:+e}function Ea(e,a,t){if(e.multiple)return Mt(e,a);for(var n of e.options){var r=me(n);if(dt(r,a)){n.selected=!0;return}}(!t||a!==void 0)&&(e.selectedIndex=-1)}function Lt(e,a){Ca(()=>{var t=new MutationObserver(()=>{var n=e.__value;Ea(e,n)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function Sa(e,a,t=a){var n=!0;Pe(e,"change",r=>{var o=r?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(o),me);else{var c=e.querySelector(o)??e.querySelector("option:not([disabled])");l=c&&me(c)}t(l)}),Ca(()=>{var r=a();if(Ea(e,r,n),n&&r===void 0){var o=e.querySelector(":checked");o!==null&&(r=me(o),t(r))}e.__value=r,n=!1}),Lt(e)}function Mt(e,a){for(var t of e.options)t.selected=~a.indexOf(me(t))}function me(e){return"__value"in e?e.__value:e.value}const Ct=!0,fn=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ct},Symbol.toStringTag,{value:"Module"})),He=re(!1);function Fe(){He.set(!0)}const Ra=re(0),Ke=re(0),Xe=re([]),Z=re(0),_e=re(5732),Ue=de("minBatteryVoltage",11.1),Ge=de("minLapTime",3),We=de("lapNumber",3),ze=de("maxRaceStartCountdown",5),he=de("enableAudioBeep",!0),ge=de("enableAnnouncer",!0);function de(e,a){let t=a;if(typeof window<"u"){const r=localStorage.getItem(e);if(r!==null)try{t=JSON.parse(r)}catch(o){console.error(`Error parsing localStorage key "${e}"`,o)}}const n=re(t);return n.subscribe(r=>{typeof window<"u"&&localStorage.setItem(e,JSON.stringify(r))}),n}let X;function Ia(e){X=new WebSocket(e),X.onopen=()=>{Bt()},X.onmessage=Nt,X.onclose=()=>{setTimeout(()=>{Ia(e)},100)}}function Nt(e){const a=JSON.parse(e.data);switch(a.event){case"rssi":Ra.set(a.value);break;case"battery":Ke.set(a.value);break;case"state":Xe.set(a.lapTimes),Z.set(a.raceState),_e.set(a.frequency);break}}function Bt(){X.send(JSON.stringify({command:"getState"}))}function wa(e,a,t){const n={command:"startRace",lapNumber:e,maxRaceStartCountdown:t,minLapTime:a};X.send(JSON.stringify(n))}function Et(){X.send(JSON.stringify({command:"stopRace"}))}function Rt(e){X.send(JSON.stringify({command:"setFrequency",value:e}))}function It(){X.send(JSON.stringify({command:"calibrate"}))}function xa(){if(typeof window>"u")return;const e=new(window.AudioContext||window.webkitAudioContext),a=e.createOscillator(),t=e.createGain();a.frequency.setValueAtTime(1e3,e.currentTime),a.connect(t),t.connect(e.destination),a.start(),a.stop(e.currentTime+.1),a.onended=()=>{e.close()}}function $e(e){if(typeof window>"u")return;let a=new SpeechSynthesisUtterance(e);a.lang="en-US",speechSynthesis.speak(a)}function Ot(e,a){const t=`Lap ${e} : ${a}`;$e(t)}var Vt=B('<button class="button"> </button>');function qt(e,a){ee(a,!1);const[t,n]=pe(),r=()=>L(Z,"$raceState",t),o=()=>L(ge,"$enableAnnouncer",t),l=()=>L(ze,"$maxRaceStartCountdown",t),c=()=>L(We,"$lapNumber",t),m=()=>L(Ge,"$minLapTime",t);let p=M(!1);Z.subscribe(_=>{$(p,_==2||_==1)});function d(){r()!==2||!y(p)?($(p,!0),o()?($e(`Starting race in less than ${l()}`),setTimeout(()=>{wa(c(),m(),l())},2*1e3)):wa(c(),m(),l())):($(p,!1),Et())}j();var g=Vt(),v=i(g,!0);s(g),F(()=>V(v,y(p)?"Stop":"Start")),ne("click",g,d),N(e,g),ae(),n()}var Ft=B("<option> </option>"),Dt=B("<option> </option>"),Jt=B('<hr class="my-5"> <div class="columns is-vcentered is-mobile"><div class="column is-narrow"><label for="batteryVoltageInput" class="label">Minimum Battery Voltage</label> <input id="batteryVoltageInput" class="input svelte-1vk39r8" type="number" min="0" max="50"></div> <div class="column has-text-right"><span id="calibrationRssiText"> </span></div></div>',1),Ht=B('<div id="configModal"><div class="modal-background"></div> <div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Configuration</p></header> <section class="modal-card-body"><div class="columns is-vcentered is-mobile"><div class="column is-narrow"><button id="calibrateButton">Calibrate</button></div> <div class="column has-text-right"><span id="calibrationRssiText"> </span></div></div> <hr class="my-5"> <div class="columns is-mobile"><div class="field column is-narrow"><label for="bandSelect" class="label">Band</label> <div class="control"><div class="select"><select id="bandSelect"></select></div></div></div> <div class="field column"><label for="channelSelect" class="label">Channel</label> <div class="control"><div class="select"><select id="channelSelect"></select></div></div></div> <div class="field column is-narrow is-flex is-align-items-center"><button id="saveButton" class="button is-link"> </button></div></div> <hr class="my-5"> <div class="columns is-vcentered"><div class="column"><label for="minLapTimeSlider" class="label">Minimum Lap Time (Seconds)</label> <input id="minLapTimeSlider" class="input spinner-input" type="number" step="1" min="0" max="100"></div></div> <div class="columns is-vcentered"><div class="column"><label for="lapNumberSlider" class="label">Lap Number</label> <input id="lapNumberSlider" class="input spinner-input" type="number" step="1" min="0" max="100"></div></div> <div class="columns is-vcentered"><div class="column"><label for="minLapTimeSlider" class="label">Start Countdown (Seconds)</label> <input id="minLapTimeSlider" class="input spinner-input" type="number" step="1" min="0" max="100"></div></div> <hr class="my-5"> <div class="field"><label class="checkbox"><input id="audioBeepToggle" type="checkbox"> Audio Beep</label></div> <div class="field"><label class="checkbox"><input id="announcerToggle" type="checkbox"> Announcer</label></div> <!></section> <footer class="modal-card-foot"><button class="button">Close</button></footer></div></div>');function Ut(e,a){ee(a,!1);const[t,n]=pe(),r=()=>L(_e,"$frequency",t),o=()=>L(He,"$configModalOpen",t),l=()=>L(Ra,"$rssiData",t),c=()=>L(Ge,"$minLapTime",t),m=()=>L(We,"$lapNumber",t),p=()=>L(ze,"$maxRaceStartCountdown",t),d=()=>L(he,"$enableAudioBeep",t),g=()=>L(ge,"$enableAnnouncer",t),v=()=>L(Ke,"$batteryVoltage",t),_=()=>L(Ue,"$minBatteryVoltage",t),b=[[5865,5845,5825,5805,5785,5765,5745,5725],[5733,5752,5771,5790,5809,5828,5847,5866],[5705,5685,5665,5645,5885,5905,5925,5945],[5740,5760,5780,5800,5820,5840,5860,5880],[5658,5695,5732,5769,5806,5843,5880,5917],[5362,5399,5436,5473,5510,5547,5584,5621]],w=["A","B","E","Fatshark","Raceband"],S=["1","2","3","4","5","6","7","8"];let f=M(0),h=M(0),T=M("Save"),x=M(!1);function R(){Rt(r()),$(T,"Saved"),setTimeout(()=>{$(T,"Save")},2e3)}function U(){It(),$(x,!0),setTimeout(()=>{$(x,!1)},500)}function G(){He.set(!1)}function P(k){for(let I=0;I<b.length;I++){let z=b[I];for(let Y=0;Y<z.length;Y++)if(z[Y]===k)return[I,Y]}return[0,0]}_e.subscribe(k=>{(I=>($(f,I[0]),$(h,I[1])))(P(k))}),vt(()=>(y(f),y(h)),()=>{_e.set(b[y(f)][y(h)])}),ut(),j();var W=Ht(),K=u(i(W),2),A=u(i(K),2),E=i(A),te=i(E),D=i(te);s(te);var C=u(te,2),J=i(C),H=i(J);s(J),s(C),s(E);var ve=u(E,4),Se=i(ve),Qe=u(i(Se),2),Ze=i(Qe),we=i(Ze);F(()=>{y(f),_a(()=>{})}),Je(we,5,()=>w,De,(k,I,z,Y)=>{var O=Ft();O.value=(O.__value=z)==null?"":z;var se=i(O,!0);s(O),F(()=>V(se,y(I))),N(k,O)}),s(we),s(Ze),s(Qe),s(Se);var xe=u(Se,2),je=u(i(xe),2),ea=i(je),ke=i(ea);F(()=>{y(h),_a(()=>{})}),Je(ke,5,()=>S,De,(k,I,z,Y)=>{var O=Dt();O.value=(O.__value=z)==null?"":z;var se=i(O,!0);s(O),F(()=>V(se,y(I))),N(k,O)}),s(ke),s(ea),s(je),s(xe);var aa=u(xe,2),Te=i(aa),Va=i(Te,!0);s(Te),s(aa),s(ve);var Ae=u(ve,4),ta=i(Ae),na=u(i(ta),2);oe(na),s(ta),s(Ae);var Le=u(Ae,2),ra=i(Le),sa=u(i(ra),2);oe(sa),s(ra),s(Le);var Me=u(Le,2),ia=i(Me),oa=u(i(ia),2);oe(oa),s(ia),s(Me);var Ce=u(Me,4),la=i(Ce),ca=i(la);oe(ca),le(),s(la),s(Ce);var Ne=u(Ce,2),da=i(Ne),va=i(da);oe(va),le(),s(da),s(Ne);var qa=u(Ne,2);{var Fa=k=>{var I=Jt(),z=u(Ye(I),2),Y=i(z),O=u(i(Y),2);oe(O),s(Y);var se=u(Y,2),fa=i(se),Ja=i(fa);s(fa),s(se),s(z),F(Be=>V(Ja,`${Be??""} V`),[()=>Math.round(v()/10)/100],ye),be(O,_,Be=>ie(Ue,Be)),N(k,I)};fe(qa,k=>{v()!==0&&k(Fa)})}s(A);var ua=u(A,2),Da=i(ua);s(ua),s(K),s(W),F(()=>{ce(W,1,`modal ${(o()?"is-active":"")??""}`),ce(D,1,`button ${(y(x)?"is-loading":"")??""}`),V(H,`RSSI: ${l()??""}`),V(Va,y(T))}),ne("click",D,U),Sa(we,()=>y(f),k=>$(f,k)),Sa(ke,()=>y(h),k=>$(h,k)),ne("click",Te,R),be(na,c,k=>ie(Ge,k)),be(sa,m,k=>ie(We,k)),be(oa,p,k=>ie(ze,k)),$a(ca,d,k=>ie(he,k)),$a(va,g,k=>ie(ge,k)),ne("click",Da,G),N(e,W),ae(),n()}var Gt=B('<h2 class="has-text-weight-bold"> </h2>');function Wt(e,a){ee(a,!1);let t,n=null,r=M();function o(m){const p=Math.floor(m%1*100);return`${Math.floor(m)}:${p}`}Z.subscribe(m=>{m==2?(t=performance.now(),n||(n=setInterval(()=>{$(r,o((performance.now()-t)/1e3))},10))):n&&(clearInterval(n),n=null)}),_t(()=>{n&&clearInterval(n)}),j();var l=Gt(),c=i(l,!0);s(l),F(()=>V(c,y(r))),N(e,l),ae()}var zt=B("<td>---</td>"),Yt=B("<td></td>"),Pt=B("<span>🚀</span>"),Kt=B("<small> </small>"),Xt=B("<tr><!><td> <!></td></tr>"),Qt=B('<div class="box" style="margin-top: 1rem;"><div class="columns is-vcentered is-mobile"><div class="column"><h2 class="subtitle">Laps</h2></div> <div class="column has-text-right"><!></div></div> <table class="table is-fullwidth is-striped"><thead><tr><th>Lap Number</th><th class="is-narrow">Time (Seconds)</th></tr></thead><tbody></tbody></table></div>');function Zt(e,a){ee(a,!1);const[t,n]=pe(),r=()=>L(Z,"$raceState",t);let o=M([]),l=M(1/0),c=M(-1);function m(w){return Math.round(w/10)/100}Z.subscribe(w=>{w==1&&$(o,[]),Oe(he)&&w==2&&xa()}),Xe.subscribe(w=>{if(r()!=2)return;const S=[];let f=1/0,h=-1;for(let T=1;T<w.length;T++){let x=m(w[T]-w[T-1]);S.push(x),x<f&&T!=1&&(f=x,h=T-1)}$(o,S),$(l,f),$(c,h),Oe(he)&&S.length!=0&&xa(),Oe(ge)&&S.length!=0&&Ot(S.length-1,S[S.length-1])}),j();var p=Qt(),d=i(p),g=u(i(d),2),v=i(g);Wt(v,{}),s(g),s(d);var _=u(d,2),b=u(i(_));Je(b,5,()=>y(o),De,(w,S,f)=>{var h=Xt(),T=i(h);{var x=A=>{var E=zt();N(A,E)},R=A=>{var E=Yt();E.textContent=f,N(A,E)};fe(T,A=>{f===0?A(x):A(R,!1)})}var U=u(T),G=i(U),P=u(G);{var W=A=>{var E=Pt();N(A,E)},K=(A,E)=>{{var te=D=>{var C=Kt(),J=i(C);s(C),F(H=>{ce(C,1,wt(y(S)-y(l)>0?"has-text-danger":"has-text-success")),V(J,`+(${H??""})`)},[()=>Math.round((y(S)-y(l))*1e3)/1e3],ye),N(D,C)};fe(A,D=>{f!==0&&D(te)},E)}};fe(P,A=>{f===y(c)?A(W):A(K,!1)})}s(U),s(h),F(()=>V(G,`${y(S)??""} `)),N(w,h)}),s(b),s(_),s(p),N(e,p),ae(),n()}var jt=B('<div id="raceEndModal"><div class="modal-background"></div> <div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">🏁 Race End</p></header> <section class="modal-card-body"><div class="content"><p><strong>🏁 Race Time:</strong> <span> </span> seconds</p> <p><strong>⏱️ Average Lap:</strong> <span> </span> seconds</p> <p><strong>🚀 Fastest Lap:</strong> <span> </span> seconds</p> <p><strong>🐢 Slowest Lap:</strong> <span> </span> seconds</p></div></section> <footer class="modal-card-foot"><button class="button">Close</button></footer></div></div>');function en(e,a){ee(a,!1);const[t,n]=pe(),r=()=>L(Xe,"$lapTimes",t);let o=M(!1),l=M(0),c=M(0),m=M(0),p=M(0);function d(){$(o,!1)}function g(D){return Math.round(D/10)/100}Z.subscribe(D=>{if(D==3){$e("Race finished");const C=r();if(C.length>2){$(l,C[C.length-1]-C[0]);const J=[];for(let H=2;H<C.length;H++)J.push(C[H]-C[H-1]);$(c,J.reduce((H,ve)=>H+ve,0)/J.length),$(m,Math.min(...J)),$(p,Math.max(...J))}else $(l,0),$(c,0),$(m,0),$(p,0);$(o,!0)}}),j();var v=jt(),_=u(i(v),2),b=u(i(_),2),w=i(b),S=i(w),f=u(i(S),2),h=i(f,!0);s(f),le(),s(S);var T=u(S,2),x=u(i(T),2),R=i(x,!0);s(x),le(),s(T);var U=u(T,2),G=u(i(U),2),P=i(G,!0);s(G),le(),s(U);var W=u(U,2),K=u(i(W),2),A=i(K,!0);s(K),le(),s(W),s(w),s(b);var E=u(b,2),te=i(E);s(E),s(_),s(v),F((D,C,J,H)=>{ce(v,1,`modal ${(y(o)?"is-active":"")??""}`),V(h,D),V(R,C),V(P,J),V(A,H)},[()=>g(y(l)),()=>g(y(c)),()=>g(y(m)),()=>g(y(p))],ye),ne("click",te,d),N(e,v),ae(),n()}var an=B('<div id="raceEndModal"><div class="modal-background"></div> <div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">🚫 False Start</p></header> <section class="modal-card-body"><div class="content"></div></section> <footer class="modal-card-foot"><button class="button">Close</button></footer></div></div>');function tn(e,a){ee(a,!1);let t=M(!1);Z.subscribe(m=>{m==4&&($e("False start"),$(t,!0))});function n(){$(t,!1)}j();var r=an(),o=u(i(r),2),l=u(i(o),4),c=i(l);s(l),s(o),s(r),F(()=>ce(r,1,`modal ${(y(t)?"is-active":"")??""}`)),ne("click",c,n),N(e,r),ae()}var nn=B('<div><button class="delete" aria-label="Close"></button> </div>');function Oa(e,a){let t=ha(a,"message",3,""),n=ha(a,"type",3,"info");var r=Ha(),o=Ye(r);{var l=c=>{var m=nn(),p=i(m);p.__click=function(...g){var v;(v=a.close)==null||v.apply(this,g)};var d=u(p);s(m),F(()=>{ce(m,1,`notification is-${n()} custom-notification`,"svelte-rulh2i"),V(d,` ${t()??""}`)}),N(c,m)};fe(o,c=>{t()&&c(l)})}N(e,r)}pt(["click"]);function rn(e,a){ee(a,!1);const[t,n]=pe(),r=()=>L(Ue,"$minBatteryVoltage",t);let o=M(""),l=!1;Ke.subscribe(c=>{let m=Math.round(c/10)/100;r()>m&&m!==0&&!l&&($(o,`Battery Voltage Low: ${m} V`),l=!0)}),j(),Oa(e,{get message(){return y(o)},close:()=>$(o,""),type:"warning"}),ae(),n()}var sn=B('<section class="section" style="padding-top: 1rem; padding-bottom: 1rem;"><div class="container"><div class="columns is-mobile is-variable is-1"><div class="column has-text-left"><div class="buttons" style="display: flex; align-items: center;"><!></div></div> <div class="column has-text-right is-narrow"><button id="openModal" class="button">Settings</button></div></div></div></section> <section class="section" style="padding-top: 0.5rem; padding-bottom: 0.5rem;"><div class="container"><!></div></section> <!> <!> <!> <!> <!>',1);function mn(e,a){ee(a,!1);let t=M("");typeof window<"u"&&(window.onerror=x=>{$(t,`${x}`)}),ht(()=>{Ia(`ws://${window.location.hostname}/ws`)}),j();var n=sn();bt(x=>{ft.title="OpenLap"});var r=Ye(n),o=i(r),l=i(o),c=i(l),m=i(c),p=i(m);qt(p,{}),s(m),s(c);var d=u(c,2),g=i(d);s(d),s(l),s(o),s(r);var v=u(r,2),_=i(v),b=i(_);Zt(b,{}),s(_),s(v);var w=u(v,2);Ut(w,{});var S=u(w,2);en(S,{});var f=u(S,2);tn(f,{});var h=u(f,2);Oa(h,{get message(){return y(t)},close:()=>$(t,""),type:"danger"});var T=u(h,2);rn(T,{}),ne("click",g,function(...x){Fe==null||Fe.apply(this,x)}),N(e,n),ae()}export{mn as component,fn as universal};
