import{t as I,a as B,c as Ha}from"../chunks/ieD6nO8R.js";import{i as te}from"../chunks/D7_4KN2p.js";import{$ as Ua,b as Ga,A as Re,h as H,a0 as Wa,x as za,k as h,N as he,y as Ya,z as ma,B as Oe,c as be,ae as Pa,C as ka,a as Ta,D as Ka,aq as Ve,ai as Aa,a2 as pa,ar as Xa,F as M,as as ba,a9 as Qa,at as Za,au as ja,ah as et,av as at,d as tt,aw as nt,ax as rt,ab as st,ay as it,az as ot,aA as lt,aB as ct,i as La,al as Ca,ak as Ma,aC as dt,p as ne,J as _,t as D,q as re,s as i,v as s,aD as vt,aE as ut,w as u,aF as _a,aG as ie,f as Ke,aH as ft}from"../chunks/C9dvp8V1.js";import{a as mt,l as Xe,e as oe,s as O,d as pt,b as bt}from"../chunks/Bh_pjQ5J.js";import{w as le,a as _t,g as qe,o as ht}from"../chunks/BVv_WIuN.js";import{s as ge,a as N,i as fe,b as ve,p as ha}from"../chunks/RgYpFcq_.js";function He(e,a){return a}function gt(e,a,t,n){for(var r=[],o=a.length,l=0;l<o;l++)ja(a[l].e,r,!0);var d=o>0&&r.length===0&&t!==null;if(d){var m=t.parentNode;et(m),m.append(t),n.clear(),ee(e,a[0].prev,a[o-1].next)}at(r,()=>{for(var p=0;p<o;p++){var c=a[p];d||(n.delete(c.k),ee(e,c.prev,c.next)),tt(c.e,!d)}})}function Ue(e,a,t,n,r,o=null){var l=e,d={flags:a,items:new Map,first:null};{var m=e;l=H?Re(Wa(m)):m.appendChild(Ua())}H&&za();var p=null,c=!1,$=he(()=>{var v=t();return Qa(v)?v:v==null?[]:Aa(v)});Ga(()=>{var v=h($),b=v.length;if(c&&b===0)return;c=b===0;let g=!1;if(H){var w=l.data===Ya;w!==(b===0)&&(l=ma(),Re(l),Oe(!1),g=!0)}if(H){for(var S=null,f,y=0;y<b;y++){if(be.nodeType===8&&be.data===Pa){l=be,g=!0,Oe(!1);break}var T=v[y],x=n(T,y);f=Na(be,d,S,null,T,x,y,r,a,t),d.items.set(x,f),S=f}b>0&&Re(ma())}H||yt(v,d,l,r,a,n,t),o!==null&&(b===0?p?ka(p):p=Ta(()=>o(l)):p!==null&&Ka(p,()=>{p=null})),g&&Oe(!0),h($)}),H&&(l=be)}function yt(e,a,t,n,r,o,l){var d=e.length,m=a.items,p=a.first,c=p,$,v=null,b=[],g=[],w,S,f,y;for(y=0;y<d;y+=1){if(w=e[y],S=o(w,y),f=m.get(S),f===void 0){var T=c?c.e.nodes_start:t;v=Na(T,a,v,v===null?a.first:v.next,w,S,y,n,r,l),m.set(S,v),b=[],g=[],c=v.next;continue}if($t(f,w,y),(f.e.f&Ve)!==0&&ka(f.e),f!==c){if($!==void 0&&$.has(f)){if(b.length<g.length){var x=g[0],R;v=x.prev;var X=b[0],U=b[b.length-1];for(R=0;R<b.length;R+=1)ga(b[R],x,t);for(R=0;R<g.length;R+=1)$.delete(g[R]);ee(a,X.prev,U.next),ee(a,v,X),ee(a,U,x),c=x,v=U,y-=1,b=[],g=[]}else $.delete(f),ga(f,c,t),ee(a,f.prev,f.next),ee(a,f,v===null?a.first:v.next),ee(a,v,f),v=f;continue}for(b=[],g=[];c!==null&&c.k!==S;)(c.e.f&Ve)===0&&($??($=new Set)).add(c),g.push(c),c=c.next;if(c===null)continue;f=c}b.push(f),v=f,c=f.next}if(c!==null||$!==void 0){for(var W=$===void 0?[]:Aa($);c!==null;)(c.e.f&Ve)===0&&W.push(c),c=c.next;var z=W.length;if(z>0){var Y=d===0?t:null;gt(a,W,Y,m)}}pa.first=a.first&&a.first.e,pa.last=v&&v.e}function $t(e,a,t,n){Xa(e.v,a),e.i=t}function Na(e,a,t,n,r,o,l,d,m,p){var c=(m&nt)!==0,$=(m&rt)===0,v=c?$?M(r):ba(r):r,b=(m&Za)===0?l:ba(l),g={i:b,v,k:o,a:null,e:null,prev:t,next:n};try{return g.e=Ta(()=>d(e,v,b,p),H),g.e.prev=t&&t.e,g.e.next=n&&n.e,t===null?a.first=g:(t.next=g,t.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function ga(e,a,t){for(var n=e.next?e.next.e.nodes_start:t,r=a?a.e.nodes_start:t,o=e.e.nodes_start;o!==n;){var l=st(o);r.before(o),o=l}}function ee(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function Ba(e){var a,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(a=0;a<r;a++)e[a]&&(t=Ba(e[a]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function St(){for(var e,a,t=0,n="",r=arguments.length;t<r;t++)(e=arguments[t])&&(a=Ba(e))&&(n&&(n+=" "),n+=a);return n}function wt(e){return typeof e=="object"?St(e):e??""}function xt(e,a,t){var n=e==null?"":""+e;return a&&(n=n?n+" "+a:a),n===""?null:n}function me(e,a,t,n,r,o){var l=e.__className;if(H||l!==t||l===void 0){var d=xt(t,n);(!H||d!==e.getAttribute("class"))&&(d==null?e.removeAttribute("class"):e.className=d),e.__className=t}return o}const kt=Symbol("is custom element"),Tt=Symbol("is html");function ue(e){if(H){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;ya(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;ya(e,"checked",null),e.checked=r}}};e.__on_r=t,it(t),mt()}}function ya(e,a,t,n){var r=At(e);H&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=t)&&(a==="loading"&&(e[ot]=t),e.removeAttribute(a))}function At(e){return e.__attributes??(e.__attributes={[kt]:e.nodeName.includes("-"),[Tt]:e.namespaceURI===lt})}function ye(e,a,t=a){var n=ct();Xe(e,"input",r=>{var o=r?e.defaultValue:e.value;if(o=Fe(e)?De(o):o,t(o),n&&o!==(o=a())){var l=e.selectionStart,d=e.selectionEnd;e.value=o??"",d!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(d,e.value.length))}}),(H&&e.defaultValue!==e.value||La(a)==null&&e.value)&&t(Fe(e)?De(e.value):e.value),Ca(()=>{var r=a();Fe(e)&&r===De(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function $a(e,a,t=a){Xe(e,"change",n=>{var r=n?e.defaultChecked:e.checked;t(r)}),(H&&e.defaultChecked!==e.checked||La(a)==null)&&t(e.checked),Ca(()=>{var n=a();e.checked=!!n})}function Fe(e){var a=e.type;return a==="number"||a==="range"}function De(e){return e===""?null:+e}function Ea(e,a,t){if(e.multiple)return Ct(e,a);for(var n of e.options){var r=_e(n);if(dt(r,a)){n.selected=!0;return}}(!t||a!==void 0)&&(e.selectedIndex=-1)}function Lt(e,a){Ma(()=>{var t=new MutationObserver(()=>{var n=e.__value;Ea(e,n)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function Sa(e,a,t=a){var n=!0;Xe(e,"change",r=>{var o=r?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(o),_e);else{var d=e.querySelector(o)??e.querySelector("option:not([disabled])");l=d&&_e(d)}t(l)}),Ma(()=>{var r=a();if(Ea(e,r,n),n&&r===void 0){var o=e.querySelector(":checked");o!==null&&(r=_e(o),t(r))}e.__value=r,n=!1}),Lt(e)}function Ct(e,a){for(var t of e.options)t.selected=~a.indexOf(_e(t))}function _e(e){return"__value"in e?e.__value:e.value}const Mt=!0,mn=Object.freeze(Object.defineProperty({__proto__:null,prerender:Mt},Symbol.toStringTag,{value:"Module"})),Ge=le(!1);function Je(){Ge.set(!0)}const Ia=le(0),Qe=le(0),Ze=le([]),ae=le(0),$e=le(5732),We=pe("minBatteryVoltage",11.1),ze=pe("minLapTime",3),Ye=pe("lapNumber",3),Pe=pe("maxRaceStartCountdown",5),Se=pe("enableAudioBeep",!0),we=pe("enableAnnouncer",!0);function pe(e,a){let t=a;if(typeof window<"u"){const r=localStorage.getItem(e);if(r!==null)try{t=JSON.parse(r)}catch(o){console.error(`Error parsing localStorage key "${e}"`,o)}}const n=le(t);return n.subscribe(r=>{typeof window<"u"&&localStorage.setItem(e,JSON.stringify(r))}),n}let Z;function Ra(e){Z=new WebSocket(e),Z.onopen=()=>{Bt()},Z.onmessage=Nt,Z.onclose=()=>{setTimeout(()=>{Ra(e)},100)}}function Nt(e){const a=JSON.parse(e.data);switch(a.event){case"rssi":Ia.set(a.value);break;case"battery":Qe.set(a.value);break;case"state":Ze.set(a.lapTimes),ae.set(a.raceState),$e.set(a.frequency);break}}function Bt(){Z.send(JSON.stringify({command:"getState"}))}function wa(e,a,t){const n={command:"startRace",lapNumber:e,maxRaceStartCountdown:t,minLapTime:a};Z.send(JSON.stringify(n))}function Et(){Z.send(JSON.stringify({command:"stopRace"}))}function It(e){Z.send(JSON.stringify({command:"setFrequency",value:e}))}function Rt(){Z.send(JSON.stringify({command:"calibrate"}))}function xa(){if(typeof window>"u")return;const e=new(window.AudioContext||window.webkitAudioContext),a=e.createOscillator(),t=e.createGain();a.frequency.setValueAtTime(1e3,e.currentTime),a.connect(t),t.connect(e.destination),a.start(),a.stop(e.currentTime+.1),a.onended=()=>{e.close()}}function xe(e){if(typeof window>"u")return;let a=new SpeechSynthesisUtterance(e);a.lang="en-US",speechSynthesis.speak(a)}function Ot(e,a){const t=`Lap ${e} : ${a}`;xe(t)}var Vt=I('<button class="button"> </button>');function qt(e,a){ne(a,!1);const[t,n]=ge(),r=()=>N(ae,"$raceState",t),o=()=>N(we,"$enableAnnouncer",t),l=()=>N(Pe,"$maxRaceStartCountdown",t),d=()=>N(Ye,"$lapNumber",t),m=()=>N(ze,"$minLapTime",t);let p=M(!1);ae.subscribe(b=>{_(p,b==2||b==1)});function c(){r()!==2||!h(p)?(_(p,!0),o()?(xe(`Starting race in less than ${l()}`),setTimeout(()=>{wa(d(),m(),l())},2*1e3)):wa(d(),m(),l())):(_(p,!1),Et())}te();var $=Vt(),v=i($,!0);s($),D(()=>O(v,h(p)?"Stop":"Start")),oe("click",$,c),B(e,$),re(),n()}var Ft=I("<option> </option>"),Dt=I("<option> </option>"),Jt=I('<hr class="my-5"> <div class="columns is-vcentered is-mobile"><div class="column is-narrow"><label for="batteryVoltageInput" class="label">Minimum Battery Voltage</label> <input id="batteryVoltageInput" class="input svelte-1vk39r8" type="number" min="0" max="50"></div> <div class="column has-text-right"><span> </span></div></div>',1),Ht=I('<div id="configModal"><div class="modal-background"></div> <div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Configuration</p></header> <section class="modal-card-body"><div class="columns is-vcentered is-mobile"><div class="column is-narrow"><button id="calibrateButton">Calibrate</button></div> <div class="column has-text-right"><span id="calibrationRssiText"> </span></div></div> <hr class="my-5"> <div class="columns is-mobile"><div class="field column is-narrow"><label for="bandSelect" class="label">Band</label> <div class="control"><div class="select"><select id="bandSelect"></select></div></div></div> <div class="field column"><label for="channelSelect" class="label">Channel</label> <div class="control"><div class="select"><select id="channelSelect"></select></div></div></div> <div class="field column is-narrow is-flex is-align-items-center"><button id="saveButton" class="button is-link"> </button></div></div> <hr class="my-5"> <div class="columns is-vcentered"><div class="column"><label for="minLapTimeSlider" class="label">Minimum Lap Time (Seconds)</label> <input id="minLapTimeSlider" class="input spinner-input" type="number" step="1" min="0" max="100"></div></div> <div class="columns is-vcentered"><div class="column"><label for="lapNumberSlider" class="label">Lap Number</label> <input id="lapNumberSlider" class="input spinner-input" type="number" step="1" min="0" max="100"></div></div> <div class="columns is-vcentered"><div class="column"><label for="minLapTimeSlider" class="label">Start Countdown (Seconds)</label> <input id="minLapTimeSlider" class="input spinner-input" type="number" step="1" min="0" max="100"></div></div> <hr class="my-5"> <div class="field"><label class="checkbox"><input id="audioBeepToggle" type="checkbox"> Audio Beep</label></div> <div class="field"><label class="checkbox"><input id="announcerToggle" type="checkbox"> Announcer</label></div> <!></section> <footer class="modal-card-foot"><button class="button">Close</button></footer></div></div>');function Ut(e,a){ne(a,!1);const[t,n]=ge(),r=()=>N($e,"$frequency",t),o=()=>N(Ge,"$configModalOpen",t),l=()=>N(Ia,"$rssiData",t),d=()=>N(ze,"$minLapTime",t),m=()=>N(Ye,"$lapNumber",t),p=()=>N(Pe,"$maxRaceStartCountdown",t),c=()=>N(Se,"$enableAudioBeep",t),$=()=>N(we,"$enableAnnouncer",t),v=()=>N(Qe,"$batteryVoltage",t),b=()=>N(We,"$minBatteryVoltage",t),g=[[5865,5845,5825,5805,5785,5765,5745,5725],[5733,5752,5771,5790,5809,5828,5847,5866],[5705,5685,5665,5645,5885,5905,5925,5945],[5740,5760,5780,5800,5820,5840,5860,5880],[5658,5695,5732,5769,5806,5843,5880,5917],[5362,5399,5436,5473,5510,5547,5584,5621]],w=["A","B","E","Fatshark","Raceband"],S=["1","2","3","4","5","6","7","8"];let f=M(0),y=M(0),T=M("Save"),x=M(!1);function R(){It(r()),_(T,"Saved"),setTimeout(()=>{_(T,"Save")},2e3)}function X(){Rt(),_(x,!0),setTimeout(()=>{_(x,!1)},500)}function U(){Ge.set(!1)}function W(k){for(let q=0;q<g.length;q++){let G=g[q];for(let K=0;K<G.length;K++)if(G[K]===k)return[q,K]}return[0,0]}$e.subscribe(k=>{(q=>(_(f,q[0]),_(y,q[1])))(W(k))}),vt(()=>(h(f),h(y)),()=>{$e.set(g[h(f)][h(y)])}),ut(),te();var z=Ht(),Y=u(i(z),2),A=u(i(Y),2),V=i(A),se=i(V),j=i(se);s(se);var P=u(se,2),ce=i(P),J=i(ce);s(ce),s(P),s(V);var E=u(V,4),L=i(E),C=u(i(L),2),Q=i(C),ke=i(Q);D(()=>{h(f),_a(()=>{})}),Ue(ke,5,()=>w,He,(k,q,G,K)=>{var F=Ft();F.value=(F.__value=G)==null?"":G;var de=i(F,!0);s(F),D(()=>O(de,h(q))),B(k,F)}),s(ke),s(Q),s(C),s(L);var Te=u(L,2),je=u(i(Te),2),ea=i(je),Ae=i(ea);D(()=>{h(y),_a(()=>{})}),Ue(Ae,5,()=>S,He,(k,q,G,K)=>{var F=Dt();F.value=(F.__value=G)==null?"":G;var de=i(F,!0);s(F),D(()=>O(de,h(q))),B(k,F)}),s(Ae),s(ea),s(je),s(Te);var aa=u(Te,2),Le=i(aa),Va=i(Le,!0);s(Le),s(aa),s(E);var Ce=u(E,4),ta=i(Ce),na=u(i(ta),2);ue(na),s(ta),s(Ce);var Me=u(Ce,2),ra=i(Me),sa=u(i(ra),2);ue(sa),s(ra),s(Me);var Ne=u(Me,2),ia=i(Ne),oa=u(i(ia),2);ue(oa),s(ia),s(Ne);var Be=u(Ne,4),la=i(Be),ca=i(la);ue(ca),ie(),s(la),s(Be);var Ee=u(Be,2),da=i(Ee),va=i(da);ue(va),ie(),s(da),s(Ee);var qa=u(Ee,2);{var Fa=k=>{var q=Jt(),G=u(Ke(q),2),K=i(G),F=u(i(K),2);ue(F),s(K);var de=u(K,2),fa=i(de),Ja=i(fa);s(fa),s(de),s(G),D(Ie=>O(Ja,`${Ie??""} V`),[()=>Math.round(v()/10)/100],he),ye(F,b,Ie=>ve(We,Ie)),B(k,q)};fe(qa,k=>{v()!==0&&k(Fa)})}s(A);var ua=u(A,2),Da=i(ua);s(ua),s(Y),s(z),D(()=>{me(z,1,`modal ${(o()?"is-active":"")??""}`),me(j,1,`button ${(h(x)?"is-loading":"")??""}`),O(J,`RSSI: ${l()??""}`),O(Va,h(T))}),oe("click",j,X),Sa(ke,()=>h(f),k=>_(f,k)),Sa(Ae,()=>h(y),k=>_(y,k)),oe("click",Le,R),ye(na,d,k=>ve(ze,k)),ye(sa,m,k=>ve(Ye,k)),ye(oa,p,k=>ve(Pe,k)),$a(ca,c,k=>ve(Se,k)),$a(va,$,k=>ve(we,k)),oe("click",Da,U),B(e,z),re(),n()}var Gt=I('<h2 class="has-text-weight-bold"> </h2>');function Wt(e,a){ne(a,!1);let t,n=null,r=M();function o(m){const p=Math.floor(m%1*100);return`${Math.floor(m)}:${p}`}ae.subscribe(m=>{m==2?(t=performance.now(),n||(n=setInterval(()=>{_(r,o((performance.now()-t)/1e3))},10))):n&&(clearInterval(n),n=null)}),_t(()=>{n&&clearInterval(n)}),te();var l=Gt(),d=i(l,!0);s(l),D(()=>O(d,h(r))),B(e,l),re()}var zt=I("<td>---</td>"),Yt=I("<td></td>"),Pt=I("<span>🚀</span>"),Kt=I("<small> </small>"),Xt=I("<tr><!><td> <!></td></tr>"),Qt=I('<div class="box" style="margin-top: 1rem;"><div class="columns is-vcentered is-mobile"><div class="column"><h2 class="subtitle">Laps</h2></div> <div class="column has-text-right"><!></div></div> <table class="table is-fullwidth is-striped"><thead><tr><th>Lap Number</th><th class="is-narrow">Time (Seconds)</th></tr></thead><tbody></tbody></table></div>');function Zt(e,a){ne(a,!1);const[t,n]=ge(),r=()=>N(ae,"$raceState",t);let o=M([]),l=M(1/0),d=M(-1);function m(w){return Math.round(w/10)/100}ae.subscribe(w=>{w==1&&_(o,[]),qe(Se)&&w==2&&xa()}),Ze.subscribe(w=>{if(r()!=2)return;const S=[];let f=1/0,y=-1;for(let T=1;T<w.length;T++){let x=m(w[T]-w[T-1]);S.push(x),x<f&&T!=1&&(f=x,y=T-1)}_(o,S),_(l,f),_(d,y),qe(Se)&&S.length!=0&&xa(),qe(we)&&S.length!=0&&Ot(S.length-1,S[S.length-1])}),te();var p=Qt(),c=i(p),$=u(i(c),2),v=i($);Wt(v,{}),s($),s(c);var b=u(c,2),g=u(i(b));Ue(g,5,()=>h(o),He,(w,S,f)=>{var y=Xt(),T=i(y);{var x=A=>{var V=zt();B(A,V)},R=A=>{var V=Yt();V.textContent=f,B(A,V)};fe(T,A=>{f===0?A(x):A(R,!1)})}var X=u(T),U=i(X),W=u(U);{var z=A=>{var V=Pt();B(A,V)},Y=(A,V)=>{{var se=j=>{var P=Kt(),ce=i(P);s(P),D(J=>{me(P,1,wt(h(S)-h(l)>0?"has-text-danger":"has-text-success")),O(ce,`+(${J??""})`)},[()=>Math.round((h(S)-h(l))*1e3)/1e3],he),B(j,P)};fe(A,j=>{f!==0&&j(se)},V)}};fe(W,A=>{f===h(d)?A(z):A(Y,!1)})}s(X),s(y),D(()=>O(U,`${h(S)??""} `)),B(w,y)}),s(g),s(b),s(p),B(e,p),re(),n()}var jt=I("<p><strong>🏆 Fastest 3-Consecutive Laps:</strong> <span> </span> seconds</p>"),en=I('<div id="raceEndModal"><div class="modal-background"></div> <div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">🏁 Race End</p></header> <section class="modal-card-body"><div class="content"><p><strong>🏁 Race Time:</strong> <span> </span> seconds</p> <p><strong>⏱️ Average Lap:</strong> <span> </span> seconds</p> <p><strong>🚀 Fastest Lap:</strong> <span> </span> seconds</p> <p><strong>🐢 Slowest Lap:</strong> <span> </span> seconds</p> <!></div></section> <footer class="modal-card-foot"><button class="button">Close</button></footer></div></div>');function an(e,a){ne(a,!1);const[t,n]=ge(),r=()=>N(Ze,"$lapTimes",t);let o=M(!1),l=M(0),d=M(0),m=M(0),p=M(0),c=M(0);function $(){_(o,!1)}function v(J){return Math.round(J/10)/100}ae.subscribe(J=>{if(J==3){xe("Race finished");const E=r();if(E.length>2){_(l,E[E.length-1]-E[0]);const L=[];for(let C=2;C<E.length;C++)L.push(E[C]-E[C-1]);if(_(d,L.reduce((C,Q)=>C+Q,0)/L.length),_(m,Math.min(...L)),_(p,Math.max(...L)),L.length>=3){_(c,1/0);for(let C=0;C<=L.length-3;C++){const Q=L[C]+L[C+1]+L[C+2];Q<h(c)&&_(c,Q)}}else _(c,0)}else _(l,0),_(d,0),_(m,0),_(p,0),_(c,0);_(o,!0)}}),te();var b=en(),g=u(i(b),2),w=u(i(g),2),S=i(w),f=i(S),y=u(i(f),2),T=i(y,!0);s(y),ie(),s(f);var x=u(f,2),R=u(i(x),2),X=i(R,!0);s(R),ie(),s(x);var U=u(x,2),W=u(i(U),2),z=i(W,!0);s(W),ie(),s(U);var Y=u(U,2),A=u(i(Y),2),V=i(A,!0);s(A),ie(),s(Y);var se=u(Y,2);{var j=J=>{var E=jt(),L=u(i(E),2),C=i(L,!0);s(L),ie(),s(E),D(Q=>O(C,Q),[()=>v(h(c))],he),B(J,E)};fe(se,J=>{h(c)!==0&&J(j)})}s(S),s(w);var P=u(w,2),ce=i(P);s(P),s(g),s(b),D((J,E,L,C)=>{me(b,1,`modal ${(h(o)?"is-active":"")??""}`),O(T,J),O(X,E),O(z,L),O(V,C)},[()=>v(h(l)),()=>v(h(d)),()=>v(h(m)),()=>v(h(p))],he),oe("click",ce,$),B(e,b),re(),n()}var tn=I('<div id="raceEndModal"><div class="modal-background"></div> <div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">🚫 False Start</p></header> <section class="modal-card-body"><div class="content"></div></section> <footer class="modal-card-foot"><button class="button">Close</button></footer></div></div>');function nn(e,a){ne(a,!1);let t=M(!1);ae.subscribe(m=>{m==4&&(xe("False start"),_(t,!0))});function n(){_(t,!1)}te();var r=tn(),o=u(i(r),2),l=u(i(o),4),d=i(l);s(l),s(o),s(r),D(()=>me(r,1,`modal ${(h(t)?"is-active":"")??""}`)),oe("click",d,n),B(e,r),re()}var rn=I('<div><button class="delete" aria-label="Close"></button> </div>');function Oa(e,a){let t=ha(a,"message",3,""),n=ha(a,"type",3,"info");var r=Ha(),o=Ke(r);{var l=d=>{var m=rn(),p=i(m);p.__click=function(...$){var v;(v=a.close)==null||v.apply(this,$)};var c=u(p);s(m),D(()=>{me(m,1,`notification is-${n()} custom-notification`,"svelte-rulh2i"),O(c,` ${t()??""}`)}),B(d,m)};fe(o,d=>{t()&&d(l)})}B(e,r)}pt(["click"]);function sn(e,a){ne(a,!1);const[t,n]=ge(),r=()=>N(We,"$minBatteryVoltage",t);let o=M(""),l=!1;Qe.subscribe(d=>{let m=Math.round(d/10)/100;r()>m&&m!==0&&!l&&(_(o,`Battery Voltage Low: ${m} V`),l=!0)}),te(),Oa(e,{get message(){return h(o)},close:()=>_(o,""),type:"warning"}),re(),n()}var on=I('<section class="section" style="padding-top: 1rem; padding-bottom: 1rem;"><div class="container"><div class="columns is-mobile is-variable is-1"><div class="column has-text-left"><div class="buttons" style="display: flex; align-items: center;"><!></div></div> <div class="column has-text-right is-narrow"><button id="openModal" class="button">Settings</button></div></div></div></section> <section class="section" style="padding-top: 0.5rem; padding-bottom: 0.5rem;"><div class="container"><!></div></section> <!> <!> <!> <!> <!>',1);function pn(e,a){ne(a,!1);let t=M("");typeof window<"u"&&(window.onerror=x=>{_(t,`${x}`)}),ht(()=>{Ra(`ws://${window.location.hostname}/ws`)}),te();var n=on();bt(x=>{ft.title="OpenLap"});var r=Ke(n),o=i(r),l=i(o),d=i(l),m=i(d),p=i(m);qt(p,{}),s(m),s(d);var c=u(d,2),$=i(c);s(c),s(l),s(o),s(r);var v=u(r,2),b=i(v),g=i(b);Zt(g,{}),s(b),s(v);var w=u(v,2);Ut(w,{});var S=u(w,2);an(S,{});var f=u(S,2);nn(f,{});var y=u(f,2);Oa(y,{get message(){return h(t)},close:()=>_(t,""),type:"danger"});var T=u(y,2);sn(T,{}),oe("click",$,function(...x){Je==null||Je.apply(this,x)}),B(e,n),re()}export{pn as component,mn as universal};
