import{t as I,a as N,c as Ha}from"../chunks/ieD6nO8R.js";import{i as ne}from"../chunks/D7_4KN2p.js";import{$ as Ua,b as Ga,A as Ie,h as H,a0 as Wa,x as za,k as p,N as he,y as Ya,z as ma,B as Re,c as be,ae as Pa,C as ka,a as Ta,D as Ka,aq as Oe,ai as Aa,a2 as pa,ar as Xa,F as L,as as ba,a9 as Qa,at as Za,au as ja,ah as et,av as at,d as tt,aw as nt,ax as rt,ab as st,ay as ot,az as it,aA as lt,aB as ct,i as La,al as Ca,ak as Ma,aC as dt,p as re,J as y,t as J,q as se,s as o,v as s,aD as vt,aE as ut,w as d,aF as _a,aG as Je,f as Ke,aH as ft}from"../chunks/C9dvp8V1.js";import{a as mt,l as Xe,e as ie,s as R,d as pt,b as bt}from"../chunks/Bh_pjQ5J.js";import{w as le,a as _t,g as Ve,o as ht}from"../chunks/BVv_WIuN.js";import{s as ge,a as M,i as fe,b as ve,p as ha}from"../chunks/RgYpFcq_.js";function He(e,a){return a}function gt(e,a,t,n){for(var r=[],i=a.length,l=0;l<i;l++)ja(a[l].e,r,!0);var v=i>0&&r.length===0&&t!==null;if(v){var m=t.parentNode;et(m),m.append(t),n.clear(),ae(e,a[0].prev,a[i-1].next)}at(r,()=>{for(var _=0;_<i;_++){var c=a[_];v||(n.delete(c.k),ae(e,c.prev,c.next)),tt(c.e,!v)}})}function Ue(e,a,t,n,r,i=null){var l=e,v={flags:a,items:new Map,first:null};{var m=e;l=H?Ie(Wa(m)):m.appendChild(Ua())}H&&za();var _=null,c=!1,$=he(()=>{var u=t();return Qa(u)?u:u==null?[]:Aa(u)});Ga(()=>{var u=p($),b=u.length;if(c&&b===0)return;c=b===0;let h=!1;if(H){var x=l.data===Ya;x!==(b===0)&&(l=ma(),Ie(l),Re(!1),h=!0)}if(H){for(var S=null,f,g=0;g<b;g++){if(be.nodeType===8&&be.data===Pa){l=be,h=!0,Re(!1);break}var T=u[g],w=n(T,g);f=Na(be,v,S,null,T,w,g,r,a,t),v.items.set(w,f),S=f}b>0&&Ie(ma())}H||yt(u,v,l,r,a,n,t),i!==null&&(b===0?_?ka(_):_=Ta(()=>i(l)):_!==null&&Ka(_,()=>{_=null})),h&&Re(!0),p($)}),H&&(l=be)}function yt(e,a,t,n,r,i,l){var v=e.length,m=a.items,_=a.first,c=_,$,u=null,b=[],h=[],x,S,f,g;for(g=0;g<v;g+=1){if(x=e[g],S=i(x,g),f=m.get(S),f===void 0){var T=c?c.e.nodes_start:t;u=Na(T,a,u,u===null?a.first:u.next,x,S,g,n,r,l),m.set(S,u),b=[],h=[],c=u.next;continue}if($t(f,x,g),(f.e.f&Oe)!==0&&ka(f.e),f!==c){if($!==void 0&&$.has(f)){if(b.length<h.length){var w=h[0],O;u=w.prev;var U=b[0],z=b[b.length-1];for(O=0;O<b.length;O+=1)ga(b[O],w,t);for(O=0;O<h.length;O+=1)$.delete(h[O]);ae(a,U.prev,z.next),ae(a,u,U),ae(a,z,w),c=w,u=z,g-=1,b=[],h=[]}else $.delete(f),ga(f,c,t),ae(a,f.prev,f.next),ae(a,f,u===null?a.first:u.next),ae(a,u,f),u=f;continue}for(b=[],h=[];c!==null&&c.k!==S;)(c.e.f&Oe)===0&&($??($=new Set)).add(c),h.push(c),c=c.next;if(c===null)continue;f=c}b.push(f),u=f,c=f.next}if(c!==null||$!==void 0){for(var G=$===void 0?[]:Aa($);c!==null;)(c.e.f&Oe)===0&&G.push(c),c=c.next;var Y=G.length;if(Y>0){var P=v===0?t:null;gt(a,G,P,m)}}pa.first=a.first&&a.first.e,pa.last=u&&u.e}function $t(e,a,t,n){Xa(e.v,a),e.i=t}function Na(e,a,t,n,r,i,l,v,m,_){var c=(m&nt)!==0,$=(m&rt)===0,u=c?$?L(r):ba(r):r,b=(m&Za)===0?l:ba(l),h={i:b,v:u,k:i,a:null,e:null,prev:t,next:n};try{return h.e=Ta(()=>v(e,u,b,_),H),h.e.prev=t&&t.e,h.e.next=n&&n.e,t===null?a.first=h:(t.next=h,t.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function ga(e,a,t){for(var n=e.next?e.next.e.nodes_start:t,r=a?a.e.nodes_start:t,i=e.e.nodes_start;i!==n;){var l=st(i);r.before(i),i=l}}function ae(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function Ba(e){var a,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(a=0;a<r;a++)e[a]&&(t=Ba(e[a]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function St(){for(var e,a,t=0,n="",r=arguments.length;t<r;t++)(e=arguments[t])&&(a=Ba(e))&&(n&&(n+=" "),n+=a);return n}function wt(e){return typeof e=="object"?St(e):e??""}function xt(e,a,t){var n=e==null?"":""+e;return a&&(n=n?n+" "+a:a),n===""?null:n}function me(e,a,t,n,r,i){var l=e.__className;if(H||l!==t||l===void 0){var v=xt(t,n);(!H||v!==e.getAttribute("class"))&&(v==null?e.removeAttribute("class"):e.className=v),e.__className=t}return i}const kt=Symbol("is custom element"),Tt=Symbol("is html");function ue(e){if(H){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;ya(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;ya(e,"checked",null),e.checked=r}}};e.__on_r=t,ot(t),mt()}}function ya(e,a,t,n){var r=At(e);H&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=t)&&(a==="loading"&&(e[it]=t),e.removeAttribute(a))}function At(e){return e.__attributes??(e.__attributes={[kt]:e.nodeName.includes("-"),[Tt]:e.namespaceURI===lt})}function ye(e,a,t=a){var n=ct();Xe(e,"input",r=>{var i=r?e.defaultValue:e.value;if(i=qe(e)?Fe(i):i,t(i),n&&i!==(i=a())){var l=e.selectionStart,v=e.selectionEnd;e.value=i??"",v!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(v,e.value.length))}}),(H&&e.defaultValue!==e.value||La(a)==null&&e.value)&&t(qe(e)?Fe(e.value):e.value),Ca(()=>{var r=a();qe(e)&&r===Fe(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function $a(e,a,t=a){Xe(e,"change",n=>{var r=n?e.defaultChecked:e.checked;t(r)}),(H&&e.defaultChecked!==e.checked||La(a)==null)&&t(e.checked),Ca(()=>{var n=a();e.checked=!!n})}function qe(e){var a=e.type;return a==="number"||a==="range"}function Fe(e){return e===""?null:+e}function Ea(e,a,t){if(e.multiple)return Ct(e,a);for(var n of e.options){var r=_e(n);if(dt(r,a)){n.selected=!0;return}}(!t||a!==void 0)&&(e.selectedIndex=-1)}function Lt(e,a){Ma(()=>{var t=new MutationObserver(()=>{var n=e.__value;Ea(e,n)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function Sa(e,a,t=a){var n=!0;Xe(e,"change",r=>{var i=r?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),_e);else{var v=e.querySelector(i)??e.querySelector("option:not([disabled])");l=v&&_e(v)}t(l)}),Ma(()=>{var r=a();if(Ea(e,r,n),n&&r===void 0){var i=e.querySelector(":checked");i!==null&&(r=_e(i),t(r))}e.__value=r,n=!1}),Lt(e)}function Ct(e,a){for(var t of e.options)t.selected=~a.indexOf(_e(t))}function _e(e){return"__value"in e?e.__value:e.value}const Mt=!0,mn=Object.freeze(Object.defineProperty({__proto__:null,prerender:Mt},Symbol.toStringTag,{value:"Module"})),Ge=le(!1);function De(){Ge.set(!0)}const Ia=le(0),Qe=le(0),Ze=le([]),te=le(0),$e=le(5732),We=pe("minBatteryVoltage",11.1),ze=pe("minLapTime",3),Ye=pe("lapNumber",3),Pe=pe("maxRaceStartCountdown",5),Se=pe("enableAudioBeep",!0),we=pe("enableAnnouncer",!0);function pe(e,a){let t=a;if(typeof window<"u"){const r=localStorage.getItem(e);if(r!==null)try{t=JSON.parse(r)}catch(i){console.error(`Error parsing localStorage key "${e}"`,i)}}const n=le(t);return n.subscribe(r=>{typeof window<"u"&&localStorage.setItem(e,JSON.stringify(r))}),n}let ee;function Ra(e){ee=new WebSocket(e),ee.onopen=()=>{Bt()},ee.onmessage=Nt,ee.onclose=()=>{setTimeout(()=>{Ra(e)},100)}}function Nt(e){const a=JSON.parse(e.data);switch(a.event){case"rssi":Ia.set(a.value);break;case"battery":Qe.set(a.value);break;case"state":Ze.set(a.lapTimes),te.set(a.raceState),$e.set(a.frequency);break}}function Bt(){ee.send(JSON.stringify({command:"getState"}))}function wa(e,a,t){const n={command:"startRace",lapNumber:e,maxRaceStartCountdown:t,minLapTime:a};ee.send(JSON.stringify(n))}function Et(){ee.send(JSON.stringify({command:"stopRace"}))}function It(e){ee.send(JSON.stringify({command:"setFrequency",value:e}))}function Rt(){ee.send(JSON.stringify({command:"calibrate"}))}function xa(){if(typeof window>"u")return;const e=new(window.AudioContext||window.webkitAudioContext),a=e.createOscillator(),t=e.createGain();a.frequency.setValueAtTime(1e3,e.currentTime),a.connect(t),t.connect(e.destination),a.start(),a.stop(e.currentTime+.1),a.onended=()=>{e.close()}}function xe(e){if(typeof window>"u")return;let a=new SpeechSynthesisUtterance(e);a.lang="en-US",speechSynthesis.speak(a)}function Ot(e,a){const t=`Lap ${e} : ${a}`;xe(t)}var Vt=I('<button class="button"> </button>');function qt(e,a){re(a,!1);const[t,n]=ge(),r=()=>M(te,"$raceState",t),i=()=>M(we,"$enableAnnouncer",t),l=()=>M(Pe,"$maxRaceStartCountdown",t),v=()=>M(Ye,"$lapNumber",t),m=()=>M(ze,"$minLapTime",t);let _=L(!1);te.subscribe(b=>{y(_,b==2||b==1)});function c(){r()!==2||!p(_)?(y(_,!0),i()?(xe(`Starting race in less than ${l()}`),setTimeout(()=>{wa(v(),m(),l())},2*1e3)):wa(v(),m(),l())):(y(_,!1),Et())}ne();var $=Vt(),u=o($,!0);s($),J(()=>R(u,p(_)?"Stop":"Start")),ie("click",$,c),N(e,$),se(),n()}var Ft=I("<option> </option>"),Dt=I("<option> </option>"),Jt=I('<hr class="my-5"> <div class="columns is-vcentered is-mobile"><div class="column is-narrow"><label for="batteryVoltageInput" class="label">Minimum Battery Voltage</label> <input id="batteryVoltageInput" class="input svelte-1vk39r8" type="number" min="0" max="50"></div> <div class="column has-text-right"><span> </span></div></div>',1),Ht=I('<div id="configModal"><div class="modal-background"></div> <div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Configuration</p></header> <section class="modal-card-body"><div class="columns is-vcentered is-mobile"><div class="column is-narrow"><button id="calibrateButton">Calibrate</button></div> <div class="column has-text-right"><span id="calibrationRssiText"> </span></div></div> <hr class="my-5"> <div class="columns is-mobile"><div class="field column is-narrow"><label for="bandSelect" class="label">Band</label> <div class="control"><div class="select"><select id="bandSelect"></select></div></div></div> <div class="field column"><label for="channelSelect" class="label">Channel</label> <div class="control"><div class="select"><select id="channelSelect"></select></div></div></div> <div class="field column is-narrow is-flex is-align-items-center"><button id="saveButton" class="button is-link"> </button></div></div> <hr class="my-5"> <div class="columns is-vcentered"><div class="column"><label for="minLapTimeSlider" class="label">Minimum Lap Time (Seconds)</label> <input id="minLapTimeSlider" class="input spinner-input" type="number" step="1" min="0" max="100"></div></div> <div class="columns is-vcentered"><div class="column"><label for="lapNumberSlider" class="label">Lap Number</label> <input id="lapNumberSlider" class="input spinner-input" type="number" step="1" min="0" max="100"></div></div> <div class="columns is-vcentered"><div class="column"><label for="minLapTimeSlider" class="label">Start Countdown (Seconds)</label> <input id="minLapTimeSlider" class="input spinner-input" type="number" step="1" min="0" max="100"></div></div> <hr class="my-5"> <div class="field"><label class="checkbox"><input id="audioBeepToggle" type="checkbox"> Audio Beep</label></div> <div class="field"><label class="checkbox"><input id="announcerToggle" type="checkbox"> Announcer</label></div> <!></section> <footer class="modal-card-foot"><button class="button">Close</button></footer></div></div>');function Ut(e,a){re(a,!1);const[t,n]=ge(),r=()=>M($e,"$frequency",t),i=()=>M(Ge,"$configModalOpen",t),l=()=>M(Ia,"$rssiData",t),v=()=>M(ze,"$minLapTime",t),m=()=>M(Ye,"$lapNumber",t),_=()=>M(Pe,"$maxRaceStartCountdown",t),c=()=>M(Se,"$enableAudioBeep",t),$=()=>M(we,"$enableAnnouncer",t),u=()=>M(Qe,"$batteryVoltage",t),b=()=>M(We,"$minBatteryVoltage",t),h=[[5865,5845,5825,5805,5785,5765,5745,5725],[5733,5752,5771,5790,5809,5828,5847,5866],[5705,5685,5665,5645,5885,5905,5925,5945],[5740,5760,5780,5800,5820,5840,5860,5880],[5658,5695,5732,5769,5806,5843,5880,5917],[5362,5399,5436,5473,5510,5547,5584,5621]],x=["A","B","E","Fatshark","Raceband"],S=["1","2","3","4","5","6","7","8"];let f=L(0),g=L(0),T=L("Save"),w=L(!1);function O(){It(r()),y(T,"Saved"),setTimeout(()=>{y(T,"Save")},2e3)}function U(){Rt(),y(w,!0),setTimeout(()=>{y(w,!1)},500)}function z(){Ge.set(!1)}function G(k){for(let F=0;F<h.length;F++){let W=h[F];for(let X=0;X<W.length;X++)if(W[X]===k)return[F,X]}return[0,0]}$e.subscribe(k=>{(F=>(y(f,F[0]),y(g,F[1])))(G(k))}),vt(()=>(p(f),p(g)),()=>{$e.set(h[p(f)][p(g)])}),ut(),ne();var Y=Ht(),P=d(o(Y),2),C=d(o(P),2),V=o(C),oe=o(V),Q=o(oe);s(oe);var Z=d(oe,2),q=o(Z),B=o(q);s(q),s(Z),s(V);var A=d(V,4),j=o(A),ce=d(o(j),2),E=o(ce),K=o(E);J(()=>{p(f),_a(()=>{})}),Ue(K,5,()=>x,He,(k,F,W,X)=>{var D=Ft();D.value=(D.__value=W)==null?"":W;var de=o(D,!0);s(D),J(()=>R(de,p(F))),N(k,D)}),s(K),s(E),s(ce),s(j);var ke=d(j,2),je=d(o(ke),2),ea=o(je),Te=o(ea);J(()=>{p(g),_a(()=>{})}),Ue(Te,5,()=>S,He,(k,F,W,X)=>{var D=Dt();D.value=(D.__value=W)==null?"":W;var de=o(D,!0);s(D),J(()=>R(de,p(F))),N(k,D)}),s(Te),s(ea),s(je),s(ke);var aa=d(ke,2),Ae=o(aa),Va=o(Ae,!0);s(Ae),s(aa),s(A);var Le=d(A,4),ta=o(Le),na=d(o(ta),2);ue(na),s(ta),s(Le);var Ce=d(Le,2),ra=o(Ce),sa=d(o(ra),2);ue(sa),s(ra),s(Ce);var Me=d(Ce,2),oa=o(Me),ia=d(o(oa),2);ue(ia),s(oa),s(Me);var Ne=d(Me,4),la=o(Ne),ca=o(la);ue(ca),Je(),s(la),s(Ne);var Be=d(Ne,2),da=o(Be),va=o(da);ue(va),Je(),s(da),s(Be);var qa=d(Be,2);{var Fa=k=>{var F=Jt(),W=d(Ke(F),2),X=o(W),D=d(o(X),2);ue(D),s(X);var de=d(X,2),fa=o(de),Ja=o(fa);s(fa),s(de),s(W),J(Ee=>R(Ja,`${Ee??""} V`),[()=>Math.round(u()/10)/100],he),ye(D,b,Ee=>ve(We,Ee)),N(k,F)};fe(qa,k=>{u()!==0&&k(Fa)})}s(C);var ua=d(C,2),Da=o(ua);s(ua),s(P),s(Y),J(()=>{me(Y,1,`modal ${(i()?"is-active":"")??""}`),me(Q,1,`button ${(p(w)?"is-loading":"")??""}`),R(B,`RSSI: ${l()??""}`),R(Va,p(T))}),ie("click",Q,U),Sa(K,()=>p(f),k=>y(f,k)),Sa(Te,()=>p(g),k=>y(g,k)),ie("click",Ae,O),ye(na,v,k=>ve(ze,k)),ye(sa,m,k=>ve(Ye,k)),ye(ia,_,k=>ve(Pe,k)),$a(ca,c,k=>ve(Se,k)),$a(va,$,k=>ve(we,k)),ie("click",Da,z),N(e,Y),se(),n()}var Gt=I('<h2 class="has-text-weight-bold"> </h2>');function Wt(e,a){re(a,!1);let t,n=null,r=L();function i(m){const _=Math.floor(m%1*100);return`${Math.floor(m)}:${_}`}te.subscribe(m=>{m==2?(t=performance.now(),n||(n=setInterval(()=>{y(r,i((performance.now()-t)/1e3))},10))):n&&(clearInterval(n),n=null)}),_t(()=>{n&&clearInterval(n)}),ne();var l=Gt(),v=o(l,!0);s(l),J(()=>R(v,p(r))),N(e,l),se()}var zt=I("<td>---</td>"),Yt=I("<td></td>"),Pt=I("<span>🚀</span>"),Kt=I("<small> </small>"),Xt=I("<tr><!><td> <!></td></tr>"),Qt=I('<div class="box" style="margin-top: 1rem;"><div class="columns is-vcentered is-mobile"><div class="column"><h2 class="subtitle">Laps</h2></div> <div class="column has-text-right"><!></div></div> <table class="table is-fullwidth is-striped"><thead><tr><th>Lap Number</th><th class="is-narrow">Time (Seconds)</th></tr></thead><tbody></tbody></table></div>');function Zt(e,a){re(a,!1);const[t,n]=ge(),r=()=>M(te,"$raceState",t);let i=L([]),l=L(1/0),v=L(-1);function m(x){return Math.round(x/10)/100}te.subscribe(x=>{x==1&&y(i,[]),Ve(Se)&&x==2&&xa()}),Ze.subscribe(x=>{if(r()!=2)return;const S=[];let f=1/0,g=-1;for(let T=1;T<x.length;T++){let w=m(x[T]-x[T-1]);S.push(w),w<f&&T!=1&&(f=w,g=T-1)}y(i,S),y(l,f),y(v,g),Ve(Se)&&S.length!=0&&xa(),Ve(we)&&S.length!=0&&Ot(S.length-1,S[S.length-1])}),ne();var _=Qt(),c=o(_),$=d(o(c),2),u=o($);Wt(u,{}),s($),s(c);var b=d(c,2),h=d(o(b));Ue(h,5,()=>p(i),He,(x,S,f)=>{var g=Xt(),T=o(g);{var w=C=>{var V=zt();N(C,V)},O=C=>{var V=Yt();V.textContent=f,N(C,V)};fe(T,C=>{f===0?C(w):C(O,!1)})}var U=d(T),z=o(U),G=d(z);{var Y=C=>{var V=Pt();N(C,V)},P=(C,V)=>{{var oe=Q=>{var Z=Kt(),q=o(Z);s(Z),J(B=>{me(Z,1,wt(p(S)-p(l)>0?"has-text-danger":"has-text-success")),R(q,`+(${B??""})`)},[()=>Math.round((p(S)-p(l))*1e3)/1e3],he),N(Q,Z)};fe(C,Q=>{f!==0&&Q(oe)},V)}};fe(G,C=>{f===p(v)?C(Y):C(P,!1)})}s(U),s(g),J(()=>R(z,`${p(S)??""} `)),N(x,g)}),s(h),s(b),s(_),N(e,_),se(),n()}var jt=I("<p><strong>🏆 Fastest 3-Consecutive Laps:</strong> <span> </span> seconds</p>"),en=I('<div id="raceEndModal"><div class="modal-background"></div> <div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">🏁 Race End</p></header> <section class="modal-card-body"><div class="content"><p><strong>🏁 Race Time:</strong> </p> <p><strong>⏱️ Average Lap:</strong> </p> <p><strong>🎯 Consistency:</strong> </p> <p><strong>🚀 Fastest Lap:</strong> </p> <p><strong>🐢 Slowest Lap:</strong> </p> <!></div></section> <footer class="modal-card-foot"><button class="button">Close</button></footer></div></div>');function an(e,a){re(a,!1);const[t,n]=ge(),r=()=>M(Ze,"$lapTimes",t);let i=L(!1),l=L(0),v=L(0),m=L(0),_=L(0),c=L(0),$=L(0);function u(){y(i,!1)}function b(q){return Math.round(q/10)/100}te.subscribe(q=>{if(q==3&&r().length>2){xe("Race finished");const B=r();if(B.length>2){y(l,B[B.length-1]-B[0]);const A=[];for(let E=2;E<B.length;E++)A.push(B[E]-B[E-1]);y(v,A.reduce((E,K)=>E+K,0)/A.length),y(m,Math.min(...A)),y(_,Math.max(...A));const j=A.reduce((E,K)=>E+(K-p(v))**2,0)/A.length,ce=Math.sqrt(j);if(y($,Math.round((1-ce/p(v))*100)),A.length>=3){y(c,1/0);for(let E=0;E<=A.length-3;E++){const K=A[E]+A[E+1]+A[E+2];K<p(c)&&y(c,K)}}else y(c,0)}y(i,!0)}}),ne();var h=en(),x=d(o(h),2),S=d(o(x),2),f=o(S),g=o(f),T=d(o(g));s(g);var w=d(g,2),O=d(o(w));s(w);var U=d(w,2),z=d(o(U));s(U);var G=d(U,2),Y=d(o(G));s(G);var P=d(G,2),C=d(o(P));s(P);var V=d(P,2);{var oe=q=>{var B=jt(),A=d(o(B),2),j=o(A,!0);s(A),Je(),s(B),J(ce=>R(j,ce),[()=>b(p(c))],he),N(q,B)};fe(V,q=>{p(c)!==0&&q(oe)})}s(f),s(S);var Q=d(S,2),Z=o(Q);s(Q),s(x),s(h),J((q,B,A,j)=>{me(h,1,`modal ${(p(i)?"is-active":"")??""}`),R(T,` ${q??""} seconds`),R(O,` ${B??""} seconds`),R(z,` ${p($)??""}%`),R(Y,` ${A??""} seconds`),R(C,` ${j??""} seconds`)},[()=>b(p(l)),()=>b(p(v)),()=>b(p(m)),()=>b(p(_))],he),ie("click",Z,u),N(e,h),se(),n()}var tn=I('<div id="raceEndModal"><div class="modal-background"></div> <div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">🚫 False Start</p></header> <section class="modal-card-body"><div class="content"></div></section> <footer class="modal-card-foot"><button class="button">Close</button></footer></div></div>');function nn(e,a){re(a,!1);let t=L(!1);te.subscribe(m=>{m==4&&(xe("False start"),y(t,!0))});function n(){y(t,!1)}ne();var r=tn(),i=d(o(r),2),l=d(o(i),4),v=o(l);s(l),s(i),s(r),J(()=>me(r,1,`modal ${(p(t)?"is-active":"")??""}`)),ie("click",v,n),N(e,r),se()}var rn=I('<div><button class="delete" aria-label="Close"></button> </div>');function Oa(e,a){let t=ha(a,"message",3,""),n=ha(a,"type",3,"info");var r=Ha(),i=Ke(r);{var l=v=>{var m=rn(),_=o(m);_.__click=function(...$){var u;(u=a.close)==null||u.apply(this,$)};var c=d(_);s(m),J(()=>{me(m,1,`notification is-${n()} custom-notification`,"svelte-rulh2i"),R(c,` ${t()??""}`)}),N(v,m)};fe(i,v=>{t()&&v(l)})}N(e,r)}pt(["click"]);function sn(e,a){re(a,!1);const[t,n]=ge(),r=()=>M(We,"$minBatteryVoltage",t);let i=L(""),l=!1;Qe.subscribe(v=>{let m=Math.round(v/10)/100;r()>m&&m!==0&&!l&&(y(i,`Battery Voltage Low: ${m} V`),l=!0)}),ne(),Oa(e,{get message(){return p(i)},close:()=>y(i,""),type:"warning"}),se(),n()}var on=I('<section class="section" style="padding-top: 1rem; padding-bottom: 1rem;"><div class="container"><div class="columns is-mobile is-variable is-1"><div class="column has-text-left"><div class="buttons" style="display: flex; align-items: center;"><!></div></div> <div class="column has-text-right is-narrow"><button id="openModal" class="button">Settings</button></div></div></div></section> <section class="section" style="padding-top: 0.5rem; padding-bottom: 0.5rem;"><div class="container"><!></div></section> <!> <!> <!> <!> <!>',1);function pn(e,a){re(a,!1);let t=L("");typeof window<"u"&&(window.onerror=w=>{y(t,`${w}`)}),ht(()=>{Ra(`ws://${window.location.hostname}/ws`)}),ne();var n=on();bt(w=>{ft.title="OpenLap"});var r=Ke(n),i=o(r),l=o(i),v=o(l),m=o(v),_=o(m);qt(_,{}),s(m),s(v);var c=d(v,2),$=o(c);s(c),s(l),s(i),s(r);var u=d(r,2),b=o(u),h=o(b);Zt(h,{}),s(b),s(u);var x=d(u,2);Ut(x,{});var S=d(x,2);an(S,{});var f=d(S,2);nn(f,{});var g=d(f,2);Oa(g,{get message(){return p(t)},close:()=>y(t,""),type:"danger"});var T=d(g,2);sn(T,{}),ie("click",$,function(...w){De==null||De.apply(this,w)}),N(e,n),se()}export{pn as component,mn as universal};
